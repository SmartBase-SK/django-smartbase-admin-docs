---
sidebar_position: 4
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Inlines

SmartBase Admin supports inlines in a powerful and flexible way using a set of custom classes extending Djangoâ€™s built-in inline functionality.

Inlines allow related objects to be edited on the same page as the parent object. `django-smartbase-admin` enhances this with a polished UI,
sortable support and tabular/stacked rendering options out of the box.

## Available Inline Classes

The following inline classes are available and can be used depending on your needs:

### SBAdminTableInline
<Tabs groupId="1">
<TabItem value="code" label="Code">
```python title="catalog/sb_admin.py"
class ProductImageInline(SBAdminTableInline):
    model = ProductImage
    fields = ("image", "alt_text")
    extra = 1
```
</TabItem>
<TabItem value="screenshot" label="Result">

![Category sbadmin](/img/screenshots/sbadmin_table_inline.png)

</TabItem>
</Tabs>

### SBAdminStackedInline
<Tabs groupId="2">
<TabItem value="code" label="Code">
```python title="catalog/sb_admin.py"
class ProductImageInline(SBAdminStackedInline):
    model = ProductImage
    fields = ("image", "alt_text")
    extra = 1
```
</TabItem>
<TabItem value="screenshot" label="Result">

![Category sbadmin](/img/screenshots/SBAdminStackedInline.png)

</TabItem>
</Tabs>

### Manage related objects that use GenericForeignKey
`SBAdminGenericTableInline` and `SBAdminGenericStackedInline` are same as SBAdminTableInline and SBAdminStackedInline, but Generic inlines allow you to manage related objects that use GenericForeignKey.

## Fake inlines

### SBAdmin Fake Inlines (SBAdminFakeInlineMixin)
SBAdminFakeInlineMixin is used to create inlines that are dynamically filtered â€” without needing a real ForeignKey relationship in the database. This is useful when you want to show related data based on some logic (e.g. "products from the same manufacturer") but donâ€™t want to (or can't) define a hard model relation.

These inlines are rendered like standard inlines but do not impact database schema.
#### ðŸ›  How it works
- Define inline which extending `SBAdminFakeInlineMixin`
- For inline, define `filter_fake_inline_identifier_by_parent_instance(self, inline_queryset, parent_instance)`. This controls what queryset will be shown in the inline, based on the parent instance.
#### ðŸ’¡ Example
This example showcases a fake inline for a Product admin page that lists other products from the same manufacturer.
```python title="catalog/sb_admin.py"
class ProductSameManufacturerInline(SBAdminFakeInlineMixin, SBAdminTableInline):
    model = Product
    fields = ["name", "is_current_product"]
    readonly_fields = ["name", "is_current_product"]
    can_delete = False
    verbose_name = "Product from the same manufacturer"
    verbose_name_plural = "Products from the same manufacturer"

    def has_add_permission(self, request, obj=None):
        return False

    def has_change_permission(self, request, obj=None):
        return False

    def filter_fake_inline_identifier_by_parent_instance(self, inline_queryset, parent_instance):
        return inline_queryset.filter(manufacturer=parent_instance.manufacturer)

    @admin.display(description=_("Current product"))
    def is_current_product(self, obj):
        if obj.pk == self.parent_instance.pk:
            return mark_safe('<svg class="w-20 h-20 text-success"><use xlink:href="#Check"></use></svg>')
        return ""
```

Admin usage
<Tabs groupId="4">
<TabItem value="code" label="Code">
```python title="catalog/sb_admin.py"
@admin.register(Product, site=sb_admin_site)
class ProductSBAdmin(SBAdmin):
    inlines = [ProductImageInline]
    sbadmin_fake_inlines = [ProductSameManufacturerInline]
    ...
```
</TabItem>
<TabItem value="list" label="Result">
![Category sbadmin](/img/screenshots/fake_inline.png)
</TabItem>

</Tabs>
